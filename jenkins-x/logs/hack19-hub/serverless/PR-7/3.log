
Showing logs for build [32mhack19-hub-serverless-pr-7-serv-d2lkv-3[0m stage [32mfrom-build-pack[0m and container [32mstep-credential-initializer-7zbdp[0m
{"level":"warn","ts":1572606931.3866248,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: \"ref: refs/heads/master\" is not a valid GitHub commit ID"}
{"level":"info","ts":1572606931.3870034,"logger":"fallback-logger","caller":"creds-init/main.go:40","msg":"Credentials initialized."}

Showing logs for build [32mhack19-hub-serverless-pr-7-serv-d2lkv-3[0m stage [32mfrom-build-pack[0m and container [32mstep-working-dir-initializer-v6mzh[0m
{"level":"warn","ts":1572606932.4524522,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1572606932.4545782,"logger":"fallback-logger","caller":"bash/main.go:65","msg":"Successfully executed command \"mkdir -p /workspace/source\""}

Showing logs for build [32mhack19-hub-serverless-pr-7-serv-d2lkv-3[0m stage [32mfrom-build-pack[0m and container [32mstep-place-tools[0m

Showing logs for build [32mhack19-hub-serverless-pr-7-serv-d2lkv-3[0m stage [32mfrom-build-pack[0m and container [32mstep-git-source-hack19-hub-serverless-pr-7-serv-8k2wr[0m
{"level":"warn","ts":1572606938.509063,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: \"ref: refs/heads/master\" is not a valid GitHub commit ID"}
{"level":"info","ts":1572606938.9118476,"logger":"fallback-logger","caller":"git/git.go:102","msg":"Successfully cloned https://github.com/**********/serverless.git @ master in path /workspace/source"}

Showing logs for build [32mhack19-hub-serverless-pr-7-serv-d2lkv-3[0m stage [32mfrom-build-pack[0m and container [32mstep-git-merge[0m
Using SHAs from PULL_REFS=master:8e1254e109bad5c5bb6f427e149423086987fa90,7:a3455e0220520c79c08d9a8933844ea700c6adbe
DEBUG: ran git fetch --unshallow origin a3455e0220520c79c08d9a8933844ea700c6adbe: 8e1254e109bad5c5bb6f427e149423086987fa90: in 
DEBUG: ran git checkout master in 
DEBUG: ran git reset --hard 8e1254e109bad5c5bb6f427e149423086987fa90 in 
DEBUG: ran clean --force -d . in 
DEBUG: ran git merge a3455e0220520c79c08d9a8933844ea700c6adbe in 
Merged SHA a3455e0220520c79c08d9a8933844ea700c6adbe with commit message 'Update requirements.yaml' into base branch master
Merged SHA 1f79ac550783a47f59ab6cbb98be25028b0d9f66 with commit message 'Update requirements.yaml' into base branch master
Merged SHA 080e5cc983240afb24c0253e9a517160b2fe2670 with commit message 'Update skaffold.yaml' into base branch master
Merged SHA 2739400edbdb7ebb89934b09c54b8184844884b6 with commit message 'Update Makefile' into base branch master
Merged SHA 56b66a460f4414ed719148275b92f969b56e267d with commit message 'Update Makefile' into base branch master
Merged SHA 6d03b2b93dde6f537b2f9a4b1453dfdd1c1557fb with commit message 'Update skaffold.yaml' into base branch master
Merged SHA 5bcc9e3789f23cd1dbc6e2ed152a10db3d56c720 with commit message 'Update Dockerfile' into base branch master

Showing logs for build [32mhack19-hub-serverless-pr-7-serv-d2lkv-3[0m stage [32mfrom-build-pack[0m and container [32mstep-build-make-linux[0m
CGO_ENABLED=0 GOOS=linux GOARCH=amd64 GO15VENDOREXPERIMENT=1 go build -ldflags '' -o bin/serverless-jenkins-demo main.go

Showing logs for build [32mhack19-hub-serverless-pr-7-serv-d2lkv-3[0m stage [32mfrom-build-pack[0m and container [32mstep-build-container-build[0m
[36mINFO[0m[0000] No base image, nothing to extract            
[36mINFO[0m[0000] cmd: EXPOSE                                  
[36mINFO[0m[0000] Adding exposed port: 8080/tcp                
[36mINFO[0m[0000] Using files from context: [/workspace/source/bin] 
[36mINFO[0m[0000] Skipping unpacking as no commands require it. 
[36mINFO[0m[0000] Taking snapshot of full filesystem...        
[36mINFO[0m[0000] EXPOSE 8080                                  
[36mINFO[0m[0000] cmd: EXPOSE                                  
[36mINFO[0m[0000] Adding exposed port: 8080/tcp                
[36mINFO[0m[0000] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0000] ENTRYPOINT ["/serverless-jenkins-demo"]      
[36mINFO[0m[0000] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0000] Using files from context: [/workspace/source/bin] 
[36mINFO[0m[0000] COPY ./bin/ /                                
[36mINFO[0m[0000] Taking snapshot of files...                  
2019/11/01 11:15:46 pushed blob: sha256:c56692b360066fae8cf5cac5aceea009d74f85487f11c7163dcbb3c51716e46b
2019/11/01 11:15:48 pushed blob: sha256:119a2820f1de66bd9f1ef9d700f0c67c614381e9e55d8dbe4d653655e36b49cf
2019/11/01 11:15:48 823024120868.dkr.ecr.us-west-2.amazonaws.com/**********/serverless:0.0.0-SNAPSHOT-PR-7-3: digest: sha256:d8fe09d2ce77f3b70700c5584f99c778e2dfd920af54200de7052d816f395bdc size: 428

Showing logs for build [32mhack19-hub-serverless-pr-7-serv-d2lkv-3[0m stage [32mfrom-build-pack[0m and container [32mstep-postbuild-post-build[0m
no CVE provider running in the current ** namespace so skip adding image to be analysed

Showing logs for build [32mhack19-hub-serverless-pr-7-serv-d2lkv-3[0m stage [32mfrom-build-pack[0m and container [32mstep-promote-make-preview[0m
helm init --client-only
Creating /builder/home/.helm 
Creating /builder/home/.helm/repository 
Creating /builder/home/.helm/repository/cache 
Creating /builder/home/.helm/repository/local 
Creating /builder/home/.helm/plugins 
Creating /builder/home/.helm/starters 
Creating /builder/home/.helm/cache/archive 
Creating /builder/home/.helm/repository/repositories.yaml 
Adding stable repo with URL: https://kubernetes-charts.storage.googleapis.com 
Adding local repo with URL: http://127.0.0.1:8879/charts 
$HELM_HOME has been configured at /builder/home/.helm.
Not installing Tiller due to 'client-only' flag having been set
helm repo add chartmuseum http://jenkins-x-chartmuseum:8080
"chartmuseum" has been added to your repositories
sed -i -e "s/version:.*/version: 0.0.0-SNAPSHOT-PR-7-3/" Chart.yaml
sed -i -e "s/version:.*/version: 0.0.0-SNAPSHOT-PR-7-3/" ../*/Chart.yaml
sed -i -e "s|repository: *|repository: :/rawlingsj/serverless-jenkins-demo|" values.yaml
sed -i -e "s/tag: .*/tag: 0.0.0-SNAPSHOT-PR-7-3/" values.yaml
echo "  version: 0.0.0-SNAPSHOT-PR-7-3" >> requirements.yaml
helm dependency build
Hang tight while we grab the latest from your chart repositories...
...Unable to get an update from the "local" chart repository (http://127.0.0.1:8879/charts):
	Get http://127.0.0.1:8879/charts/index.yaml: dial tcp 127.0.0.1:8879: connect: connection refused
...Successfully got an update from the "chartmuseum" chart repository
...Successfully got an update from the "stable" chart repository
Update Complete.
Saving 1 charts
Deleting outdated charts
helm lint
==> Linting .
[WARNING] templates/: directory not found

1 chart(s) linted, no failures

Showing logs for build [32mhack19-hub-serverless-pr-7-serv-d2lkv-3[0m stage [32mfrom-build-pack[0m and container [32mstep-promote-jx-preview[0m
Creating a preview
Commit author email is empty for: 5bcc9e3789f23cd1dbc6e2ed152a10db3d56c720
Looking for commits in: /workspace/source/
Commit author email is empty for: 6d03b2b93dde6f537b2f9a4b1453dfdd1c1557fb
Looking for commits in: /workspace/source/
Commit author email is empty for: 56b66a460f4414ed719148275b92f969b56e267d
Looking for commits in: /workspace/source/
Commit author email is empty for: 2739400edbdb7ebb89934b09c54b8184844884b6
Looking for commits in: /workspace/source/
Commit author email is empty for: 080e5cc983240afb24c0253e9a517160b2fe2670
Looking for commits in: /workspace/source/
Commit author email is empty for: 1f79ac550783a47f59ab6cbb98be25028b0d9f66
Looking for commits in: /workspace/source/
Commit author email is empty for: a3455e0220520c79c08d9a8933844ea700c6adbe
Looking for commits in: /workspace/source/
Found commit author match for: ********** with email address: 56089989+**********@users.noreply.github.com
Created environment **********-serverless-pr-7
Namespace **-**********-serverless-pr-7 created 
expose:
  Annotations:
    helm.sh/hook: post-install,post-upgrade
    helm.sh/hook-delete-policy: hook-succeeded
  config:
    domain: app.jenkins-x.tk
    exposer: Ingress
    http: "true"
preview:
  image:
    repository: 823024120868.dkr.ecr.us-west-2.amazonaws.com/**********/serverless
    tag: 0.0.0-SNAPSHOT-PR-7-3
Cloning the Jenkins X versions repo https://github.com/jenkins-x/jenkins-x-versions.git with ref refs/heads/master to /builder/home/.**/jenkins-x-versions
error: Failed to run helm template --name preview --namespace **-**********-serverless-pr-7 . --output-dir /tmp/helm-template-workdir-952337089/preview/output --debug --values /tmp/values.yaml170825079 --values /tmp/values.yaml282663530: failed to run 'helm template --name preview --namespace **-**********-serverless-pr-7 . --output-dir /tmp/helm-template-workdir-952337089/preview/output --debug --values /tmp/values.yaml170825079 --values /tmp/values.yaml282663530' command in directory '', output: 'Error: found in requirements.yaml, but missing in charts/ directory: serverless-jenkins-demo'
[31m
Pipeline failed on stage 'from-build-pack' : container 'step-promote-jx-preview'. The execution of the pipeline has stopped.[0m
